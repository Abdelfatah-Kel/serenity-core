ext {
    bintrayPackage = 'serenity-junit'
    projectDescription = 'Serenity JUnit integration'
}

test {
    maxParallelForks = Integer.parseInt(System.getProperty("forks","4"))
}

//configurations {
//    all.collect { configuration ->
//        configuration.exclude group: "junit", module: "junit"
//        configuration.exclude group: "org.junit.vintage", module: "junit-vintage-engine"
//    }
//}

dependencies {
    compile project(':serenity-model')
    compile project(':serenity-core')

    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:latest.release'
    implementation 'org.junit.jupiter:junit-jupiter-api:latest.release'
    implementation 'org.junit.platform:junit-platform-launcher:latest.release'
    implementation "org.junit.jupiter:junit-jupiter-params:latest.release"

    compile "org.opentest4j:opentest4j:${opentest4jVersion}"

    testCompile project(':serenity-test-utils')
    testCompile "commons-dbcp:commons-dbcp:1.3"
    testCompile "org.springframework:spring-jdbc:${springVersion}"
    testCompile "org.springframework:spring-aop:${springVersion}"
    testCompile "org.springframework:spring-orm:${springVersion}"
    testCompile "org.javassist:javassist:3.21.0-GA"
    testCompile "hsqldb:hsqldb:1.8.0.10"

    testCompile ("org.hibernate:hibernate-entitymanager:3.5.4-Final") {
        exclude group: 'commons-logging'
        exclude group: 'org.slf4j'
        exclude group: 'commons-collections'
        exclude group: 'cglib'
        exclude group: 'javassist'
    }
}
